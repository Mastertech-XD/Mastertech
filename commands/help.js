const settings = require('../settings');
const fs = require('fs');
const path = require('path');

async function helpCommand(sock, chatId, message) {
    const helpMessage = `
â–“â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–„  â–„â–„â–„       â–ˆâ–ˆâ–ˆâ–„ â–„â–ˆâ–ˆâ–ˆâ–“ â–ˆâ–ˆâ–“â–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–‘ â–ˆâ–ˆ 
â–’â–ˆâ–ˆâ–€ â–ˆâ–ˆâ–Œâ–’â–ˆâ–ˆâ–ˆâ–ˆâ–„    â–“â–ˆâ–ˆâ–’â–€â–ˆâ–€ â–ˆâ–ˆâ–’â–“â–ˆâ–ˆâ–‘  â–ˆâ–ˆâ–’â–“â–ˆâ–ˆâ–‘ â–ˆâ–ˆâ–’
â–‘â–ˆâ–ˆ   â–ˆâ–Œâ–’â–ˆâ–ˆ  â–€â–ˆâ–„  â–“â–ˆâ–ˆ    â–“â–ˆâ–ˆâ–‘â–“â–ˆâ–ˆâ–‘ â–ˆâ–ˆâ–“â–’â–’â–ˆâ–ˆâ–€â–€â–ˆâ–ˆâ–‘
â–‘â–“â–ˆâ–„   â–Œâ–‘â–ˆâ–ˆâ–„â–„â–„â–„â–ˆâ–ˆ â–’â–ˆâ–ˆ    â–’â–ˆâ–ˆ â–’â–ˆâ–ˆâ–„â–ˆâ–“â–’ â–’â–‘â–“â–ˆ â–‘â–ˆâ–ˆ 
â–‘â–’â–ˆâ–ˆâ–ˆâ–ˆâ–“  â–“â–ˆ   â–“â–ˆâ–ˆâ–’â–’â–ˆâ–ˆâ–’   â–‘â–ˆâ–ˆâ–’â–’â–ˆâ–ˆâ–’ â–‘  â–‘â–‘â–“â–ˆâ–’â–‘â–ˆâ–ˆâ–“
 â–’â–’â–“  â–’  â–’â–’   â–“â–’â–ˆâ–‘â–‘ â–’â–‘   â–‘  â–‘â–’â–“â–’â–‘ â–‘  â–‘ â–’ â–‘â–‘â–’â–‘â–’
 â–‘ â–’  â–’   â–’   â–’â–’ â–‘â–‘  â–‘      â–‘â–‘â–’ â–‘      â–’ â–‘â–’â–‘ â–‘
 â–‘ â–‘  â–‘   â–‘   â–’   â–‘      â–‘   â–‘â–‘        â–‘  â–‘â–‘ â–‘
   â–‘          â–‘  â–‘       â–‘              â–‘  â–‘  â–‘
â–„â–„â–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“ â–ˆâ–ˆâ–‘ â–ˆâ–ˆ â–“â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–“     â–ˆâ–ˆâ–“    
â–“  â–ˆâ–ˆâ–’ â–“â–’â–“â–ˆâ–ˆâ–‘ â–ˆâ–ˆâ–’â–“â–ˆ   â–€ â–“â–ˆâ–ˆâ–’    â–“â–ˆâ–ˆâ–’    
â–’ â–“â–ˆâ–ˆâ–‘ â–’â–‘â–’â–ˆâ–ˆâ–€â–€â–ˆâ–ˆâ–‘â–’â–ˆâ–ˆâ–ˆ   â–’â–ˆâ–ˆâ–‘    â–’â–ˆâ–ˆâ–‘    
â–‘ â–“â–ˆâ–ˆâ–“ â–‘ â–‘â–“â–ˆ â–‘â–ˆâ–ˆ â–’â–“â–ˆ  â–„ â–’â–ˆâ–ˆâ–‘    â–’â–ˆâ–ˆâ–‘    
  â–’â–ˆâ–ˆâ–’ â–‘ â–‘â–“â–ˆâ–’â–‘â–ˆâ–ˆâ–“â–‘â–’â–ˆâ–ˆâ–ˆâ–ˆâ–’â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–’â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–’
  â–’ â–‘â–‘    â–’ â–‘â–‘â–’â–‘â–’â–‘â–‘ â–’â–‘ â–‘â–‘ â–’â–‘â–“  â–‘â–‘ â–’â–‘â–“  â–‘
    â–‘     â–’ â–‘â–’â–‘ â–‘ â–‘ â–‘  â–‘â–‘ â–‘ â–’  â–‘â–‘ â–‘ â–’  â–‘
  â–‘       â–‘  â–‘â–‘ â–‘   â–‘     â–‘ â–‘     â–‘ â–‘   
          â–‘  â–‘  â–‘   â–‘  â–‘    â–‘  â–‘    â–‘  â–‘

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ”¥ ğ•„ğ”¸ğ•Šğ•‹ğ”¼â„ğ•‹ğ”¼â„‚â„-ğ•ğ”» ğ•ğŸ™.ğŸ˜.ğŸ˜ ğŸ”¥  â•‘
â•‘  âœ¯ ğ•‹â„ğ”¼ ğ•„ğ•†ğ•Šğ•‹ â„™ğ•†ğ•ğ”¼â„ğ”½ğ•Œğ•ƒ ğ•â„ğ”¸ğ•‹ğ•Šğ”¸â„™â„™ ğ”¹ğ•†ğ•‹ âœ¯  â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  ğŸ‘‘ ğ•†ğ•¨ğ•Ÿğ•–ğ•£: ğ•„ğ”¸ğ•Šğ•‹ğ”¼â„â„™ğ”¼ğ”¸â„‚ğ”¼ ğ”¼ğ•ƒğ•€ğ•‹ğ”¼          â•‘
â•‘  ğŸŒŸ ğ•ğ•–ğ•£ğ•¤ğ•šğ• ğ•Ÿ: ğŸ™.ğŸ˜.ğŸ˜ | ğ•Šğ•¥ğ•’ğ•¥ğ•¦ğ•¤: ğ•†ğ•Ÿğ•ğ•šğ•Ÿğ•– â•‘
â•‘  ğŸ“¡ ğ•ğ• ğ•¦ğ•‹ğ•¦ğ•“ğ•–: [â„•ğ• ğ•¥ ğ•Šğ•–ğ•¥]                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸš€ ğ”¾ğ”¼â„•ğ”¼â„ğ”¸ğ•ƒ  â•‘  ğŸ›¡ï¸ ğ”¸ï¿½ğ•„ğ•€â„•   â•‘  ğŸ‘‘ ğ•†ğ•â„•ğ”¼â„   â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ â€¢ .help/menu â•‘ â€¢ .ban       â•‘ â€¢ .mode      â•‘
â•‘ â€¢ .ping      â•‘ â€¢ .promote   â•‘ â€¢ .autostatusâ•‘
â•‘ â€¢ .alive     â•‘ â€¢ .demote    â•‘ â€¢ .clearsess â•‘
â•‘ â€¢ .tts       â•‘ â€¢ .mute      â•‘ â€¢ .antideleteâ•‘
â•‘ â€¢ .owner     â•‘ â€¢ .unmute    â•‘ â€¢ .cleartmp  â•‘
â•‘ â€¢ .joke      â•‘ â€¢ .del       â•‘ â€¢ .setpp     â•‘
â•‘ â€¢ .quote     â•‘ â€¢ .kick      â•‘ â€¢ .autoreact â•‘
â•‘ â€¢ .fact      â•‘ â€¢ .warn      â•‘              â•‘
â•‘ â€¢ .weather   â•‘ â€¢ .antilink  â•‘              â•‘
â•‘ â€¢ .news      â•‘ â€¢ .antibad   â•‘              â•‘
â•‘ â€¢ .attp      â•‘ â€¢ .clear     â•‘              â•‘
â•‘ â€¢ .lyrics    â•‘ â€¢ .tag       â•‘              â•‘
â•‘ â€¢ .8ball     â•‘ â€¢ .tagall    â•‘              â•‘
â•‘ â€¢ .groupinfo â•‘ â€¢ .chatbot   â•‘              â•‘
â•‘ â€¢ .staff     â•‘ â€¢ .resetlink â•‘              â•‘
â•‘ â€¢ .vv        â•‘ â€¢ .welcome   â•‘              â•‘
â•‘ â€¢ .trt       â•‘ â€¢ .goodbye   â•‘              â•‘
â•‘ â€¢ .ss        â•‘              â•‘              â•‘
â•‘ â€¢ .jid       â•‘              â•‘              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ï¿½ ğ•„ğ”¼ğ”»ğ•€ğ”¸   â•‘  ğŸ¯ ğ”¾ğ”¸ğ•„ğ”¼ğ•Š   â•‘  ğŸ¤– ğ”¸ğ•€      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ â€¢ .sticker   â•‘ â€¢ .tictactoe â•‘ â€¢ .gpt       â•‘
â•‘ â€¢ .simage    â•‘ â€¢ .hangman   â•‘ â€¢ .gemini    â•‘
â•‘ â€¢ .tgsticker â•‘ â€¢ .guess     â•‘ â€¢ .imagine   â•‘
â•‘ â€¢ .meme      â•‘ â€¢ .trivia    â•‘ â€¢ .flux      â•‘
â•‘ â€¢ .take      â•‘ â€¢ .answer    â•‘              â•‘
â•‘ â€¢ .emojimix  â•‘ â€¢ .truth     â•‘              â•‘
â•‘ â€¢ .blur      â•‘ â€¢ .dare      â•‘              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ­ ğ”½ğ•Œâ„•      â•‘  âœï¸ ğ•‹ğ”¼ğ•ğ•‹    â•‘  ğŸ“¥ ğ”»ğ•†ğ•â„•ğ•ƒğ•†ğ”¸ğ”» â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ â€¢ .complimentâ•‘ â€¢ .metallic  â•‘ â€¢ .play      â•‘
â•‘ â€¢ .insult    â•‘ â€¢ .ice       â•‘ â€¢ .song      â•‘
â•‘ â€¢ .flirt     â•‘ â€¢ .snow      â•‘ â€¢ .instagram â•‘
â•‘ â€¢ .shayari   â•‘ â€¢ .impressiveâ•‘ â€¢ .facebook  â•‘
â•‘ â€¢ .goodnight â•‘ â€¢ .matrix    â•‘ â€¢ .tiktok    â•‘
â•‘ â€¢ .roseday   â•‘ â€¢ .light     â•‘ â€¢ .video     â•‘
â•‘ â€¢ .character â•‘ â€¢ .neon      â•‘ â€¢ .ytmp4     â•‘
â•‘ â€¢ .wasted    â•‘ â€¢ .devil     â•‘              â•‘
â•‘ â€¢ .ship      â•‘ â€¢ .purple    â•‘              â•‘
â•‘ â€¢ .simp      â•‘ â€¢ .thunder   â•‘              â•‘
â•‘ â€¢ .stupid    â•‘ â€¢ .leaves    â•‘              â•‘
â•‘              â•‘ â€¢ .1917      â•‘              â•‘
â•‘              â•‘ â€¢ .arena     â•‘              â•‘
â•‘              â•‘ â€¢ .hacker    â•‘              â•‘
â•‘              â•‘ â€¢ .sand      â•‘              â•‘
â•‘              â•‘ â€¢ .blackpink â•‘              â•‘
â•‘              â•‘ â€¢ .glitch    â•‘              â•‘
â•‘              â•‘ â€¢ .fire      â•‘              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
â–ˆâ–„â”€â–„â–„â–„â–„â–ˆâ”€â–„â–„â–„â”€â–ˆâ–„â”€â–„â–„â–€â–ˆâ–„â”€â–„â–ˆâ”€â–„â–„â–„â–„â–ˆâ”€â–„â”€â–„â”€â–ˆâ”€â–ˆâ”€â–ˆâ–„â”€â–„â”€â–€â–ˆ
â–ˆâ–ˆâ”€â–ˆâ–ˆâ–„â”€â–ˆâ”€â–ˆâ–ˆâ–ˆâ–€â–ˆâ–ˆâ”€â–„â”€â–„â–ˆâ–ˆâ”€â–ˆâ–ˆâ–„â–„â–„â–„â”€â–ˆâ–ˆâ–ˆâ”€â–ˆâ–ˆâ–ˆâ”€â–„â”€â–ˆâ–ˆâ”€â–„â”€â–€â–ˆ
â–€â–„â–„â–„â–„â–„â–€â–„â–„â–„â–„â–„â–€â–„â–„â–€â–„â–„â–€â–„â–„â–„â–€â–„â–„â–„â–„â–„â–€â–€â–„â–„â–„â–€â–€â–„â–€â–„â–€â–„â–„â–„â–„â–€â–€
Join our channel for updates:`;

    try {
        const imagePath = path.join(__dirname, '../assets/bot_image.jpg');
        
        if (fs.existsSync(imagePath)) {
            const imageBuffer = fs.readFileSync(imagePath);
            
            await sock.sendMessage(chatId, {
                image: imageBuffer,
                caption: helpMessage,
                contextInfo: {
                    forwardingScore: 1,
                    isForwarded: true,
                    forwardedNewsletterMessageInfo: {
                        newsletterJid: '120363161513685998@newsletter',
                        newsletterName: 'ELITE-XD',
                        serverMessageId: -1
                    }
                }
            },{ quoted: message });
        } else {
            console.error('Bot image not found at:', imagePath);
            await sock.sendMessage(chatId, { 
                text: helpMessage,
                contextInfo: {
                    forwardingScore: 1,
                    isForwarded: true,
                    forwardedNewsletterMessageInfo: {
                        newsletterJid: '120363161513685998@newsletter',
                        newsletterName: 'ELITE-XD BY MASTERPEACE ELITE',
                        serverMessageId: -1
                    } 
                }
            });
        }
    } catch (error) {
        console.error('Error in help command:', error);
        await sock.sendMessage(chatId, { text: helpMessage });
    }
}

module.exports = helpCommand;
